<h1>Описание лабораторной работы №1</h1>

<h3>Введение</h3>

В данном задании необходимо реализовать сервис по доставке еды. 

<h3>Требования, макеты и функционал</h3>

Документация API - https://food-delivery.kreosoft.ru/swagger/index.html

**Диаграмма классов предметной области**

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/7fcaa5d3-7bd8-4292-b0f9-391194edddf9)

Поскольку большая часть функционала сайта завязана на пользователе, необходимо предусмотреть возможность регистрации пользователей и их дальнейшей авторизации.

<h3>Авторизация</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/e20e9ced-7ec8-4640-a963-cc5890bdf5e9)

Адрес, который должен быть у вас в адресной строке при открытии страницы авторизации: http://localhost/login/

По данному адресу необходимо отправить POST запрос с данными. В ответ будет отправлен TOKEN авторизации зарегистрированного пользователя (если авторизация прошла успешно).

Для авторизации нужно использовать email как логин.

<h3>Регистрация</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/9506c2de-79c3-42ae-8fcd-edd3954aca1e)

Обратите внимание на раздел с заполнением **адреса проживания!** Детальная инструкция и руководство будет описано ниже, в конце задания.

Адрес, который должен быть у вас в адресной строке при открытии страницы регистрации: http://localhost/registration/

По данному адресу необходимо отправить POST запрос с данными. В ответ будет отправлен TOKEN авторизации зарегистрированного пользователя (если регистрация прошла успешно).

Обратите внимание, на страницах, где пользователь вводит номер телефона должна присутствовать валидация по следующей маске +7 (xxx) xxx-xx-xx.

<h3>Профиль</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/47597ab2-b7f4-4a11-ad21-e83da0faf12f)

Страница должна быть доступна по ссылке http://localhost/profile

<h3>Главная страница</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/1cf2a8a6-8897-4d4b-9799-b4ff16387651)

Поскольку на сайте присутствует пагинация, следует предусмотреть механизм, который не просто отправляет запрос на сервер с номером страницы и обновляет список блюд, а сделать так, чтобы при изменении страницы, номер отображался в URL и при перезагрузке страницы (или переходе по получившейся ссылке) отображался корректный список блюд для последней выбранной страницы. 

Как должен выглядеть URL при пагинации по меню:
* localhost/ - первая страница (по умолчанию)
* localhost/?page=1 - также первая страница
* localhost/?page=N - страница N

Чтобы реализовать подобный механизм, элементы пагинации должны быть не просто кнопками с обработчиками событий, а полноценными элементами навигации.

На сайте присутствует механизм фильтрации и сортировки блюд по нескольким критериям, которые могут быть скомбинированы между собой:
* Категория блюдо (при фильтрации можно указать несколько категорий)
* Отображение только вегетарианских блюд
* Сортировка блюд (по имени от А-Я, по имени от Я-А, по возрастанию цены, по убыванию цены, по возрастанию  рейтинга, по убыванию  рейтинга)

Примеры URL при пагинации и фильтрации:
* localhost/?page=1 - также первая страница
* localhost/?page=N - страница N
* localhost/?categories=Wok&categories=Pizza&vegetarian=false&sorting=NameDesc&page=1
* localhost/?categories=Wok&categories=Pizza&vegetarian=false&sorting=NameDesc
* localhost/?categories=&vegetarian=true&sorting=PriceDesc

**Обратите внимание!**
* Вегетарианские блюда имеют пометку при помощи специального символа
* Если блюдо уже присутствует в корзине пользователя, на странице с меню должна быть возможность изменить его количество
* Рейтинг блюда не обязательно является целым числом

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/0594f397-883b-4ef3-a572-e11c1375c6d4)

По желанию вы можете изменить отображение блока фильтрации и сортировки при помощи использования библиотек. Пример использования библиотеки selectpicker

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/4d99e649-f5d3-4f9a-822b-4876e1052d30)

При клике на позицию в меню (конкретное блюдо) открывается страница позиция в меню.

<h3>Позиция в меню</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/ed9b363c-a8fc-45a8-855e-5c29aed51bf6)

Как уже говорилось выше, при клике на позицию меню, должна открываться страница с конкретным блюдом.

Адрес, который должен быть у вас в адресной строке при открытии страницы:

http://localhost/item/{id}, где {id} - идентификатор позицию меню на сервере.

Для авторизованного пользователя имеется возможность поставить свою оценку блюду в том случае, если он ранее хотя бы 1 раз заказывал данное блюдо, в то время как неавторизованный пользователь может лишь просматривать текущий рейтинг. 

<h3>Корзина</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/d7e9708b-48a1-45a7-b2c1-472df72b3b09)

Адрес, который должен быть у вас в адресной строке при открытии страницы: http://localhost/cart/

<h3>История заказов</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/82fc6be1-c503-4e41-8a6b-b3c352a8ab34)

Адрес, который должен быть у вас в адресной строке при открытии страницы: http://localhost/orders

Обратите внимание подтвердить доставку можно только для тех заказов, статус которых “В обработке”.

<h3>Детали заказа</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/4565b119-48e9-48e0-8c0e-d915915bfe11)

Адрес, который должен быть у вас в адресной строке при открытии страницы:
http://localhost/order/{id}, где {id} - идентификатор заказа на сервере

<h3>Оформление заказа</h3>

![image](https://github.com/ivanboitsov/FoodOrdering-ASP.NET/assets/118753603/94a13c8d-daf9-4aa3-9ece-026c71b086db)

Адрес, который должен быть у вас в адресной строке при открытии страницы: http://localhost/purchase

При оформлении заказа должны быть  взяты все блюда, находящиеся в данный момент в корзине пользователя. После успешного оформления корзина пользователя должна быть очищена.

Обратите внимание на валидацию времени  и даты доставки. Время доставки заказа должно быть больше текущего времени на переменную, определенную на сервере (подумайте, как это сделать наиболее удобно для использования и дальнейшей поддержки).

<h3>Поиск по адресам</h3>

<h4>Backend</h4>

Для работы с адресами в данной системе будет использоваться справочник ГАР. При разработке серверной части вы можете составить БД справочника, самостоятельно распарсив XML с официального сайта, или воспользоваться подготовленным для вас бэкапом Postgres со сведениями об адресах Томской области. Данный бэкап содержит таблицы которые хранят сущности из МПО и данные в этих таблицах. Вы можете адаптировать данный бэкап для себя добавив необходимых индексов, колонок и т. д. (подумайте, как сделать из этого удобную для данной задачи БД).
